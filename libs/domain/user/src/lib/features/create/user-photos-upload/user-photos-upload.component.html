<div class="photo-wrapper">
    <h1 tuiTitle="m">Загрузите ваши фотографии</h1>
    <div class="photo">
        <span class="tui-text_body-l-2 control__name">
            Поделитесь своими лучшими моментами! Загрузите фото и получите лайки
            от нашего сообщества
        </span>
        <div class="photo__list">
            @for (
                photo of createUserFeatureService.photoControls;
                track photo;
                let i = $index
            ) {
                <barter-user-photo-item
                    class="photo__item"
                    [photoUrl]="photo.value.previewUrl ?? undefined"
                    [isLoading]="photo.value.isLoading()"
                    (removePhoto)="onRemovePhoto(i)"
                />
            }
            @if (canAddMorePhotos()) {
                <label class="photo__item photo__item_upload" tuiInputFiles>
                    <input
                        tuiInputFiles
                        [formControl]="uploadControl"
                        accept="image/*"
                        [maxFileSize]="1024 * 1024 * 5"
                        multiple
                    />
                    <ng-template>
                        <div class="tui-input-files">
                            <tui-icon icon="@tui.plus" />
                        </div>
                    </ng-template>
                </label>
            }
            @for (photo of getEmptySlots(); track photo) {
                <barter-user-photo-item
                    class="photo__item"
                    [isLoading]="false"
                />
            }
        </div>
    </div>
</div>

<tui-loader
    class="loader"
    [inheritColor]="true"
    [overlay]="true"
    [showLoader]="userFacade.getIsLoading()"
>
    <button class="onboarding__button" tuiButton (click)="onBtnClick()">
        Продолжить
    </button>
</tui-loader>
